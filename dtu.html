<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<title>DTU - Tactical Information Panel</title>
<style>
/* ===== GLOBAL ===== */
body {
    margin: 0;
    font-family: "Segoe UI", Arial, sans-serif;
    background: linear-gradient(145deg, #0a0e14 0%, #162033 100%);
    color: #d8e6ff;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    padding: 20px;
    transition: background 0.5s, color 0.5s;
}

.container-wrapper {
    position: relative;
}

.led-frame {
    position: absolute;
    top: -10px;
    left: -10px;
    width: calc(100% + 20px);
    height: calc(100% + 20px);
    border-radius: 16px;
    pointer-events: none;
    box-shadow: 0 0 15px rgba(0,102,255,0.4),
                0 0 30px rgba(0,102,255,0.2),
                0 0 45px rgba(0,102,255,0.1);
    transition: 0.3s;
}

/* Priorytety LED */
.led-frame.low { box-shadow: 0 0 15px rgba(0,102,255,0.8),0 0 150px rgba(0,102,255,0.5),0 0 45px rgba(0,102,255,0.3);}
.led-frame.medium { box-shadow: 0 0 15px rgba(255,204,0,0.8),0 0 150px rgba(255,204,0,0.5),0 0 45px rgba(255,204,0,0.3);}
.led-frame.high { box-shadow: 0 0 15px rgba(255,102,0,0.8),0 0 150px rgba(255,102,0,0.5),0 0 45px rgba(255,102,0,0.3);}
.led-frame.critical { box-shadow: 0 0 15px rgba(255,0,0,0.8),0 0 150px rgba(255,0,0,0.5),0 0 45px rgba(255,0,0,0.3);}

/* ===== CONTAINER ===== */
.container {
    width: 100%;
    max-width: 700px;
    background: rgba(7, 22, 44, 0.85);
    padding: 35px;
    border-radius: 12px;
    box-shadow: 0 0 40px rgba(0, 0, 0, 0.6);
    border: 1px solid rgba(255,255,255,0.08);
    position: relative;
    transition: all 0.5s;
}

/* ===== RESZTA STYL√ìW ===== */
.banner {
    width: 100%;
    text-align: center;
    padding: 10px 0;
    border-bottom: 2px solid rgba(0, 102, 255, 0.4);
    margin-bottom: 20px;
}
.banner h1 { font-size: 22px; letter-spacing: 2px; margin: 0; color: #61a0ff; text-transform: uppercase; }
.logo { display: block; width: 160px; margin: 10px auto 18px auto; opacity: 0.95; filter: drop-shadow(0 0 6px rgba(0, 102, 255, 0.35)); }
h2 { text-align: center; font-size: 20px; margin-bottom: 20px; color: #bcd6ff; text-shadow: 0 0 4px rgba(0,102,255,0.3); }
p { text-align: center; opacity: 0.85; line-height: 1.5; }
input, select, textarea {
    width: 100%;
    padding: 12px;
    margin-top: 6px;
    border-radius: 8px;
    background: rgba(0, 20, 40, 0.5);
    border: 1px solid rgba(0, 102, 255, 0.25);
    color: #ffffff;
    font-size: 15px;
    transition: 0.2s;
}
input:focus, textarea:focus, select:focus {
    background: rgba(0, 30, 60, 0.7);
    border-color: #1e90ff;
    box-shadow: 0 0 8px rgba(30, 144, 255, 0.5);
    outline: none;
}
select {
    background-image: url("data:image/svg+xml;utf8,<svg fill='white' height='16' viewBox='0 0 24 24' width='16' xmlns='http://www.w3.org/2000/svg'><path d='M7 10l5 5 5-5z'/></svg>");
    background-repeat: no-repeat;
    background-position: right 12px center;
    background-size: 16px;
    cursor: pointer;
}
button {
    width: 100%;
    padding: 14px;
    background: linear-gradient(90deg, #0044aa 0%, #006cff 100%);
    border: none;
    border-radius: 8px;
    color: white;
    cursor: pointer;
    font-size: 16px;
    margin-top: 15px;
    letter-spacing: 1px;
    transition: 0.2s;
    box-shadow: 0 0 10px rgba(0, 102, 255, 0.3);
}
button:hover {
    background: linear-gradient(90deg, #0055cc 0%, #1e90ff 100%);
    box-shadow: 0 0 12px rgba(60, 130, 255, 0.55);
}
#status, #inq_status { text-align: center; margin-top: 15px; opacity: 0.9; font-weight: 500; }
.section { display: none; animation: fadeIn 0.4s; }
.active { display: block; }
@keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
.accordion {
    background: rgba(0,20,40,0.5);
    color: #d8e6ff;
    cursor: pointer;
    padding: 12px;
    width: 100%;
    border: 1px solid rgba(0,102,255,0.25);
    border-radius: 6px;
    margin-top: 8px;
    text-align: left;
    outline: none;
    transition: 0.2s;
}
.accordion:hover { background: rgba(0,30,60,0.7); }
.accordion:after {
    content: '\002B';
    color: #61a0ff;
    float: right;
    font-weight: bold;
}
.accordion.active:after { content: "\2212"; }
.panel {
    padding: 0 12px;
    background-color: rgba(0,15,30,0.4);
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.2s ease-out;
    border-left: 2px solid #61a0ff;
    margin-bottom: 6px;
}

/* ===== KOLORY PRIORYTET√ìW FORMULARZA ===== */
#report.form-low { border-color: rgba(0,102,255,0.35); }
#report.form-medium { border-color: rgba(255,204,0,0.6); }
#report.form-high { border-color: rgba(255,102,0,0.6); }
#report.form-critical { border-color: rgba(255,0,0,0.5); }
#report.form-critical button { background: linear-gradient(90deg,#aa0000 0%,#ff2222 100%); }

/* ===== TABLET ===== */
#tablet {
    position: absolute;
    top: 50px;
    left: 50px;
    width: 300px;
    background: linear-gradient(145deg, #1b2735, #0a0f1f);
    border-radius: 12px;
    box-shadow: 0 0 15px rgba(0, 102, 255, 0.4);
    padding: 15px;
    z-index: 1000;
    cursor: move;
    color: #d8e6ff;
    display: none;
}
#tablet h3 { text-align: center; margin-bottom: 10px; color: #61a0ff; }
#tablet p { margin: 4px 0; padding: 4px 6px; background: rgba(0,0,0,0.2); border-radius: 6px; }

</style>
</head>
<body>

<div class="container-wrapper">
    <div class="led-frame low"></div>
    <div class="container">
        <div class="banner">
            <h1>DTU - Tactical Unit System</h1>
        </div>
        <img src="dtu.png" alt="DTU Logo" class="logo">

        <!-- STRONA G≈Å√ìWNA -->
        <div id="home" class="section active">
            <h2>Witamy w Panelu Informacyjnym DTU</h2>
            <p>System przeznaczony do przekazywania raport√≥w oraz zapyta≈Ñ pomiƒôdzy Funkcjonariuszami Policji a jednostkƒÖ DTU.</p>
            <button onclick="showSection('report')">üìÑ Formularz Raportowy</button>
            <button onclick="showSection('inquiry')">‚ùì Formularz Zapytaniowy</button>
            <button onclick="showSection('faq')">üìñ FAQ</button>
        </div>

        <!-- FORMULARZ RAPORTOWY -->
        <div id="report" class="section">
            <h2>Formularz Raportowy DTU</h2>
            <label>Funkcjonariusz</label>
            <input type="text" id="officer" placeholder="np. J. Miller">
            <label>Numer telefonu</label>
            <input type="text" id="phone" placeholder="np. 123456789" oninput="this.value = this.value.replace(/\D/g,'')">
            <label>Priorytet</label>
            <select id="priority">
                <option value="Niski">Niski</option>
                <option value="≈öredni">≈öredni</option>
                <option value="Wysoki">Wysoki</option>
                <option value="Krytyczny">Krytyczny</option>
            </select>
            <label>Tre≈õƒá raportu</label>
            <textarea id="message" rows="6" placeholder="Opisz sytuacjƒô..."></textarea>
            <button onclick="sendReport()">Wy≈õlij Raport</button>
            <button onclick="showSection('home')">‚è™ Powr√≥t</button>
            <p id="status"></p>
        </div>

        <!-- FORMULARZ ZAPYTANIOWY -->
        <div id="inquiry" class="section">
            <h2>Formularz Zapytaniowy DTU</h2>
            <label>Funkcjonariusz</label>
            <input type="text" id="inq_officer" placeholder="np. J. Miller">
            <label>Numer telefonu</label>
            <input type="text" id="inq_phone" placeholder="np. 123456789" oninput="this.value = this.value.replace(/\D/g,'')">
            <label>Tre≈õƒá zapytania</label>
            <textarea id="inq_message" rows="6" placeholder="Opisz zapytanie..."></textarea>
            <button onclick="sendInquiry()">Wy≈õlij Zapytanie</button>
            <button onclick="showSection('home')">‚è™ Powr√≥t</button>
            <p id="inq_status"></p>
        </div>

        <!-- FAQ -->
        <div id="faq" class="section">
            <h2>FAQ ‚Äì Najczƒô≈õciej Zadawane Pytania</h2>
            <button class="accordion">Jak wys≈Çaƒá raport do DTU?</button>
            <div class="panel"><p>Wype≈Çnij formularz raportowy, wybierz priorytet i opisz sytuacjƒô, a nastƒôpnie kliknij "Wy≈õlij Raport".</p></div>
            <button class="accordion">Jak wys≈Çaƒá zapytanie do DTU?</button>
            <div class="panel"><p>Wype≈Çnij formularz zapytaniowy, podaj swoje dane i tre≈õƒá pytania, a nastƒôpnie kliknij "Wy≈õlij Zapytanie".</p></div>
            <button class="accordion">Czy muszƒô podawaƒá numer telefonu?</button>
            <div class="panel"><p>Numer telefonu jest obowiƒÖzkowy, u≈Çatwia kontakt w razie potrzeby dodatkowych informacji.</p></div>
            <button class="accordion">Co oznaczajƒÖ priorytety raport√≥w?</button>
            <div class="panel"><p>Niski - informacyjny, ≈öredni - wa≈ºny, Wysoki - pilny, Krytyczny - wymaga natychmiastowej reakcji DTU.</p></div>
            <button class="accordion">Czy moje dane sƒÖ bezpieczne?</button>
            <div class="panel"><p>Tak, informacje przesy≈Çane sƒÖ bezpo≈õrednio do jednostki DTU poprzez zabezpieczony webhook Discord.</p></div>
            <button class="accordion">Jak um√≥wiƒá siƒô z wami na spotkanie?</button>
            <div class="panel"><p>Wysy≈ÇajƒÖc formularz zapytaniowy wraz z numerem telefonu. W opisie rozwinƒÖƒá wstƒôpnie cel spotkania oraz przekazaƒá co≈õ co nas przekona do niego.</p></div>            
            <button onclick="showSection('home')">‚è™ Powr√≥t do strony g≈Ç√≥wnej</button>
        </div>
    </div>
</div>

<!-- TABLET -->
<div id="tablet">
    <h3>üì± DTU Tablet - PodglƒÖd</h3>
    <p id="tablet-priority">Priorytet: Niski üü¶</p>
    <p id="tablet-officer">Funkcjonariusz: -</p>
    <p id="tablet-phone">Telefon: -</p>
    <p id="tablet-message">Tre≈õƒá raportu/zapytania: -</p>
</div>

<script>
/* ===== SEKCJE ===== */
function showSection(id){
    document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
    document.getElementById(id).classList.add('active');

    const tablet = document.getElementById('tablet');
    if(id==='report' || id==='inquiry'){
        tablet.style.display='block';
        updateTablet();
    } else {
        tablet.style.display='none';
    }
}

/* ===== TABLET PODGLƒÑD ===== */
function updateTablet() {
    const tablet = document.getElementById('tablet');
    let section = document.querySelector('.section.active');
    if(!section) return;

    if(section.id === 'report') {
        const officer = document.getElementById("officer").value || "-";
        const phone = document.getElementById("phone").value || "-";
        const message = document.getElementById("message").value || "-";
        const priority = document.getElementById("priority").value;

        let emoji = "üü¶";
        if(priority==="≈öredni") emoji="üü°";
        if(priority==="Wysoki") emoji="üü†";
        if(priority==="Krytyczny") emoji="üî¥üö®";

        document.getElementById("tablet-priority").innerText = "Priorytet: " + priority + " " + emoji;
        document.getElementById("tablet-officer").innerText = "Funkcjonariusz: " + officer;
        document.getElementById("tablet-phone").innerText = "Telefon: " + phone;
        document.getElementById("tablet-message").innerText = "Tre≈õƒá raportu: " + message;
    }

    if(section.id === 'inquiry') {
        const officer = document.getElementById("inq_officer").value || "-";
        const phone = document.getElementById("inq_phone").value || "-";
        const message = document.getElementById("inq_message").value || "-";

        document.getElementById("tablet-priority").innerText = "Zapytanie ‚ùì";
        document.getElementById("tablet-officer").innerText = "Funkcjonariusz: " + officer;
        document.getElementById("tablet-phone").innerText = "Telefon: " + phone;
        document.getElementById("tablet-message").innerText = "Tre≈õƒá zapytania: " + message;
    }
}

document.getElementById("officer").addEventListener("input", updateTablet);
document.getElementById("phone").addEventListener("input", updateTablet);
document.getElementById("message").addEventListener("input", updateTablet);
document.getElementById("priority").addEventListener("change", updateTablet);
document.getElementById("inq_officer").addEventListener("input", updateTablet);
document.getElementById("inq_phone").addEventListener("input", updateTablet);
document.getElementById("inq_message").addEventListener("input", updateTablet);

/* ===== PRZECIƒÑGANIE TABLETU ===== */
dragElement(document.getElementById("tablet"));
function dragElement(elmnt) {
  var pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
  elmnt.onmousedown = function(e) {
    e.preventDefault();
    pos3 = e.clientX;
    pos4 = e.clientY;
    document.onmouseup = closeDragElement;
    document.onmousemove = elementDrag;
  };

  function elementDrag(e) {
    e.preventDefault();
    pos1 = pos3 - e.clientX;
    pos2 = pos4 - e.clientY;
    pos3 = e.clientX;
    pos4 = e.clientY;
    elmnt.style.top = (elmnt.offsetTop - pos2) + "px";
    elmnt.style.left = (elmnt.offsetLeft - pos1) + "px";
  }

  function closeDragElement() {
    document.onmouseup = null;
    document.onmousemove = null;
  }
}

/* ===== WEBHOOKI ===== */
const webhookReport  = "https://discord.com/api/webhooks/1445944405587398688/pRFi1CyA3mD3JgpeiNJne2b1-guXUSVzehafBgh2-pq-tThBYH77HSjxk6wRDtSp1tfJ";
const webhookInquiry = "https://discord.com/api/webhooks/1445979676378927206/PbIyZOBfllBB81eC-qabMhYDx1sO9b-9wzDyzrt6rZpEQi4f3vpiZHXrcUFBdoY4tarU";

/* PRIORYTET + LED */
const prioritySelect = document.getElementById("priority");
const reportSection = document.getElementById("report");
const ledFrame = document.querySelector(".led-frame");

prioritySelect.addEventListener("change", function(){
    reportSection.classList.remove("form-low","form-medium","form-high","form-critical");
    ledFrame.classList.remove('low','medium','high','critical');

    if(this.value==="Niski") { 
        reportSection.classList.add("form-low"); 
        ledFrame.classList.add('low');
    }
    if(this.value==="≈öredni") { 
        reportSection.classList.add("form-medium"); 
        ledFrame.classList.add('medium');
    }
    if(this.value==="Wysoki") { 
        reportSection.classList.add("form-high"); 
        ledFrame.classList.add('high');
    }
    if(this.value==="Krytyczny") { 
        reportSection.classList.add("form-critical"); 
        ledFrame.classList.add('critical');
    }
});

/* RAPORT */
function sendReport(){
    const officer = document.getElementById("officer").value;
    const phone   = document.getElementById("phone").value;
    const priority = document.getElementById("priority").value;
    const message = document.getElementById("message").value;
    if(!officer || !message){ document.getElementById("status").innerText="‚ùó Uzupe≈Çnij wszystkie pola!"; return; }

    let embed;
    if(priority==="Niski"){ embed={title:"üü¶ Raport ‚Äì Priorytet Niski",color:3447003,fields:[{name:"üëÆ Funkcjonariusz",value:officer,inline:true},{name:"üìû Telefon",value:phone,inline:true},{name:"üìÑ Tre≈õƒá Raportu",value:message}],footer:{text:"DTU ‚Äì Priorytet Niski"},timestamp:new Date()}; }
    if(priority==="≈öredni"){ embed={title:"üü° Raport ‚Äì Priorytet ≈öredni",color:16763904,fields:[{name:"üëÆ Funkcjonariusz",value:officer,inline:true},{name:"üìû Telefon",value:phone,inline:true},{name:"üìÑ Tre≈õƒá Raportu",value:message}],footer:{text:"DTU ‚Äì Priorytet ≈öredni"},timestamp:new Date()}; }
    if(priority==="Wysoki"){ embed={title:"üü† Raport ‚Äì Priorytet Wysoki",color:16753920,fields:[{name:"üëÆ Funkcjonariusz",value:officer,inline:true},{name:"üìû Telefon",value:phone,inline:true},{name:"üìÑ Tre≈õƒá Raportu",value:message}],footer:{text:"DTU ‚Äì Priorytet Wysoki"},timestamp:new Date()}; }
    if(priority==="Krytyczny"){ embed={title:"üî¥üö® TAKTYCZNY RAPORT ‚Äì PRIORYTET KRYTYCZNY",color:15548997,fields:[{name:"üëÆ Funkcjonariusz",value:officer,inline:true},{name:"üìû Telefon",value:phone,inline:true},{name:"üì¢ Tre≈õƒá Raportu",value:"**"+message+"**"}],footer:{text:"DTU ‚Äì KRYTYCZNY STATUS"},timestamp:new Date()}; }

    fetch(webhookReport,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:"PD ‚Üí DTU",embeds:[embed]})})
    .then(res=>{
        if(res.ok){
            document.getElementById("status").innerText="‚úÖ Raport wys≈Çany!";
            document.getElementById("officer").value="";
            document.getElementById("phone").value="";
            document.getElementById("priority").value="Niski";
            document.getElementById("message").value="";
            reportSection.classList.remove("form-low","form-medium","form-high","form-critical");
            ledFrame.classList.remove('low','medium','high','critical');
            updateTablet();
        } else document.getElementById("status").innerText="‚ùå B≈ÇƒÖd wysy≈Çania.";
    }).catch(()=> document.getElementById("status").innerText="‚ùó B≈ÇƒÖd po≈ÇƒÖczenia.");
}

/* ZAPYTANIA */
function sendInquiry(){
    const officer = document.getElementById("inq_officer").value;
    const phone   = document.getElementById("inq_phone").value;
    const msg     = document.getElementById("inq_message").value;
    if(!officer || !msg){ document.getElementById("inq_status").innerText="‚ùó Uzupe≈Çnij wszystkie pola!"; return; }
    const embed={title:"‚ùì Zapytanie DTU",color:3447003,fields:[{name:"üëÆ Funkcjonariusz",value:officer,inline:true},{name:"üìû Telefon",value:phone,inline:true},{name:"üìù Tre≈õƒá Zapytania",value:msg}],footer:{text:"DTU ‚Äì Zapytania Funkcjonariuszy"},timestamp:new Date()};
    fetch(webhookInquiry,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:"PD ‚Üí DTU",embeds:[embed]})})
    .then(res=>{ if(res.ok){ document.getElementById("inq_status").innerText="‚úÖ Zapytanie wys≈Çane!"; document.getElementById("inq_officer").value=""; document.getElementById("inq_phone").value=""; document.getElementById("inq_message").value=""; updateTablet(); } else document.getElementById("inq_status").innerText="‚ùå B≈ÇƒÖd wysy≈Çania."; }).catch(()=> document.getElementById("inq_status").innerText="‚ùó B≈ÇƒÖd po≈ÇƒÖczenia."); }

/* FAQ */
var acc=document.getElementsByClassName("accordion");
for(var i=0;i<acc.length;i++){
    acc[i].addEventListener("click",function(){
        this.classList.toggle("active");
        var panel=this.nextElementSibling;
        if(panel.style.maxHeight){ panel.style.maxHeight=null; } else{ panel.style.maxHeight=panel.scrollHeight+"px"; }
    });
}
</script>
</body>
</html>