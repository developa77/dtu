<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<title>DTU - Panel Informacyjny</title>

<style>
    body {
        margin: 0;
        font-family: "Segoe UI", Arial, sans-serif;
        background: linear-gradient(145deg, #0a0e14 0%, #162033 100%);
        color: #e6e6e6;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        padding: 20px;
    }

    .container {
        width: 100%;
        max-width: 600px;
        background: rgba(20, 28, 40, 0.85);
        padding: 30px;
        border-radius: 14px;
        box-shadow: 0 0 25px rgba(0, 0, 0, 0.6);
        backdrop-filter: blur(8px);
        border: 1px solid rgba(255, 255, 255, 0.08);
        position: relative;
    }

    .logo {
        display: block;
        width: 120px;
        margin: -10px auto 10px auto;
        opacity: 0.9;
    }

    h2, h3 {
        text-align: center;
        margin-bottom: 20px;
        font-weight: 600;
        letter-spacing: 1px;
    }

    p {
        text-align: center;
        opacity: 0.9;
        line-height: 1.5;
    }

    label {
        margin-top: 10px;
        font-size: 15px;
        display: block;
        opacity: 0.9;
    }

    input, select, textarea {
        width: 100%;
        padding: 12px;
        margin-top: 6px;
        border-radius: 8px;
        background: rgba(255, 255, 255, 0.08);
        border: 1px solid rgba(255, 255, 255, 0.12);
        color: white;
        font-size: 15px;
        transition: 0.2s;
    }

    input:focus, textarea:focus {
        border-color: #2d8cff;
        outline: none;
        background: rgba(255, 255, 255, 0.12);
    }

    select {
        appearance: none;
        -webkit-appearance: none;
        -moz-appearance: none;
        background: rgba(255, 255, 255, 0.08);
        border: 1px solid rgba(255, 255, 255, 0.12);
        color: #ffffff;
        font-size: 15px;
        padding: 12px;
        margin-top: 6px;
        border-radius: 8px;
        background-image: url("data:image/svg+xml;utf8,<svg fill='white' height='16' viewBox='0 0 24 24' width='16' xmlns='http://www.w3.org/2000/svg'><path d='M7 10l5 5 5-5z'/></svg>");
        background-repeat: no-repeat;
        background-position: right 12px center;
        background-size: 16px;
        cursor: pointer;
    }

    select:focus {
        border-color: #2d8cff;
        outline: none;
        background: rgba(255, 255, 255, 0.12);
    }

    select option {
        background: #141a24;
        color: white;
    }

    button {
        width: 100%;
        padding: 14px;
        background: #1d4ed8;
        border: none;
        border-radius: 8px;
        color: white;
        cursor: pointer;
        font-size: 16px;
        margin-top: 15px;
        transition: 0.2s;
    }

    button:hover {
        background: #153ea8;
    }

    #status {
        text-align: center;
        margin-top: 15px;
        opacity: 0.9;
        font-weight: 500;
    }

    /* Sekcje */
    .section {
        display: none;
    }

    .active {
        display: block;
    }

</style>
</head>
<body>

<div class="container">

    <!-- LOGO -->
    <img src="dtu.png" alt="DTU Logo" class="logo">

    <!-- STRONA G≈Å√ìWNA -->
    <div id="home" class="section active">
        <h2>Witamy w panelu DTU</h2>
        <p>Ta strona s≈Çu≈ºy do przekazywania informacji pomiƒôdzy Funkcjonariuszami Policji a jednostkƒÖ DTU.<br>
        Wybierz odpowiedni formularz poni≈ºej, aby wys≈Çaƒá raport lub zadaƒá pytanie.</p>

        <button onclick="showSection('report')">Formularz Raportowy üìÑ</button>
        <button onclick="showSection('inquiry')">Formularz Zapytaniowy ‚ùì</button>
    </div>

    <!-- FORMULARZ RAPORTOWY -->
    <div id="report" class="section">
        <h2>Formularz Raportowy DTU</h2>
        <label>Funkcjonariusz</label>
        <input type="text" id="officer" placeholder="np. J. Miller">

        <label>Numer telefonu kontaktowego</label>
        <input type="text" id="phone" placeholder="np. 123456789" oninput="this.value = this.value.replace(/\D/g,'')">

        <label>Priorytet</label>
        <select id="priority">
            <option value="Niski">Niski</option>
            <option value="≈öredni">≈öredni</option>
            <option value="Wysoki">Wysoki</option>
            <option value="Krytyczny">Krytyczny</option>
        </select>

        <label>Tre≈õƒá raportu</label>
        <textarea id="message" rows="6" placeholder="Opisz sytuacjƒô..."></textarea>

        <button onclick="sendReport()">Wy≈õlij raport</button>
        <button onclick="showSection('home')">Powr√≥t do strony g≈Ç√≥wnej</button>

        <p id="status"></p>
    </div>

    <!-- FORMULARZ ZAPYTANIOWY -->
    <div id="inquiry" class="section">
        <h2>Formularz Zapytaniowy DTU</h2>
        <label>Funkcjonariusz</label>
        <input type="text" id="inq_officer" placeholder="np. J. Miller">

        <label>Numer telefonu kontaktowego</label>
        <input type="text" id="inq_phone" placeholder="np. 123456789" oninput="this.value = this.value.replace(/\D/g,'')">

        <label>Tre≈õƒá zapytania</label>
        <textarea id="inq_message" rows="6" placeholder="Opisz zapytanie..."></textarea>

        <button onclick="sendInquiry()">Wy≈õlij zapytanie</button>
        <button onclick="showSection('home')">Powr√≥t do strony g≈Ç√≥wnej</button>

        <p id="inq_status"></p>
    </div>

</div>

<script>
// Funkcja prze≈ÇƒÖczania sekcji
function showSection(sectionId){
    document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
    document.getElementById(sectionId).classList.add('active');
}

// WEBHOOKI
const webhookReport = "https://discord.com/api/webhooks/1445944405587398688/pRFi1CyA3mD3JgpeiNJne2b1-guXUSVzehafBgh2-pq-tThBYH77HSjxk6wRDtSp1tfJ";
const webhookInquiry = "https://discord.com/api/webhooks/1445979676378927206/PbIyZOBfllBB81eC-qabMhYDx1sO9b-9wzDyzrt6rZpEQi4f3vpiZHXrcUFBdoY4tarU";

// FUNKCJA RAPORTOWA
function sendReport(){
    const officer = document.getElementById("officer").value;
    const phone = document.getElementById("phone").value;
    const priority = document.getElementById("priority").value;
    const message = document.getElementById("message").value;

    if(!officer || !message){
        document.getElementById("status").innerText = "‚ùó Uzupe≈Çnij wszystkie pola!";
        return;
    }

    let embed;
    if(priority==="Niski"){ embed = { title:"üü¢ Raport ‚Äì Priorytet Niski", color:5763719, fields:[ {name:"üëÆ Funkcjonariusz", value:officer, inline:true}, {name:"üìû Telefon", value:phone, inline:true}, {name:"üìÑ Tre≈õƒá Raportu", value:message} ], footer:{text:"DTU - Priorytet Niski"}, timestamp:new Date()}; }
    if(priority==="≈öredni"){ embed = { title:"üü° Raport ‚Äì Priorytet ≈öredni", color:16776960, fields:[ {name:"üëÆ Funkcjonariusz", value:officer, inline:true}, {name:"üìû Telefon", value:phone, inline:true}, {name:"üìÑ Tre≈õƒá Raportu", value:message} ], footer:{text:"DTU - Priorytet ≈öredni"}, timestamp:new Date()}; }
    if(priority==="Wysoki"){ embed = { title:"üü† Raport ‚Äì Priorytet Wysoki", color:16753920, fields:[ {name:"üëÆ Funkcjonariusz", value:officer, inline:true}, {name:"üìû Telefon", value:phone, inline:true}, {name:"üìÑ Tre≈õƒá Raportu", value:message} ], footer:{text:"DTU - Priorytet Wysoki"}, timestamp:new Date()}; }
    if(priority==="Krytyczny"){ embed = { title:"üî¥ ‚ùó RAPORT TAKTYCZNY ‚Äì PRIORYTET KRYTYCZNY ‚ùó", color:15548997, fields:[ {name:"üëÆ Funkcjonariusz", value:officer, inline:true}, {name:"üìû Telefon", value:phone, inline:true}, {name:"üì¢ Tre≈õƒá Raportu", value:message} ], footer:{text:"DTU - Status KRYTYCZNY"}, timestamp:new Date()}; }

    const payload = { username:"Informator PD>>DTU", embeds:[embed] };

    fetch(webhookReport, { method:"POST", headers:{"Content-Type":"application/json"}, body:JSON.stringify(payload)})
    .then(res=>{
        if(res.ok){
            document.getElementById("status").innerText="‚úÖ Raport wys≈Çany!";
            document.getElementById("officer").value="";
            document.getElementById("phone").value="";
            document.getElementById("priority").value="Niski";
            document.getElementById("message").value="";
        } else { document.getElementById("status").innerText="‚ùå B≈ÇƒÖd wysy≈Çania."; }
    })
    .catch(()=>{ document.getElementById("status").innerText="‚ùó B≈ÇƒÖd po≈ÇƒÖczenia."; });
}

// FUNKCJA ZAPYTANIOWA
function sendInquiry(){
    const officer = document.getElementById("inq_officer").value;
    const phone = document.getElementById("inq_phone").value;
    const message = document.getElementById("inq_message").value;

    if(!officer || !message){
        document.getElementById("inq_status").innerText = "‚ùó Uzupe≈Çnij wszystkie pola!";
        return;
    }

    const embed = {
        title:"‚ùì Zapytanie DTU",
        color: 3447003,
        fields:[
            {name:"üëÆ Funkcjonariusz", value:officer, inline:true},
            {name:"üìû Telefon", value:phone, inline:true},
            {name:"üìù Tre≈õƒá Zapytania", value:message}
        ],
        footer:{text:"DTU - Zapytania Funkcjonariuszy"},
        timestamp:new Date()
    };

    const payload = { username:"Informator PD>>DTU", embeds:[embed] };

    fetch(webhookInquiry, { method:"POST", headers:{"Content-Type":"application/json"}, body:JSON.stringify(payload)})
    .then(res=>{
        if(res.ok){
            document.getElementById("inq_status").innerText="‚úÖ Zapytanie wys≈Çane!";
            document.getElementById("inq_officer").value="";
            document.getElementById("inq_phone").value="";
            document.getElementById("inq_message").value="";
        } else { document.getElementById("inq_status").innerText="‚ùå B≈ÇƒÖd wysy≈Çania."; }
    })
    .catch(()=>{ document.getElementById("inq_status").innerText="‚ùó B≈ÇƒÖd po≈ÇƒÖczenia."; });
}

</script>
</body>
</html>
